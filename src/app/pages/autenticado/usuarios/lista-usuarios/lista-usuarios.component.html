<h2 class="mb-4">Usu√°rios</h2>

<div class="d-flex justify-content-between">
    <form class="col-md-6 col-8" (submit)="carregarLista()">
        <input type="text" placeholder="Buscar" name="filtro" class="form-control" [(ngModel)]="filter" (ngModelChange)="filtrar()">
    </form>
    <button class="btn btn-primary" routerLink="/app/usuarios/novo">
        <i class="pi pi-plus me-2"></i>Adicionar
    </button>
</div>
<br>

<app-table [itens]="usuarios" [page]="page" [size]="size" [totalElements]="totalElements" (onPage)="onPage($event)">
    <ng-template appTableHeader>
        <th scope="col">#</th>
        <th scope="col">Nome</th>
        <th scope="col">Email</th>
        <th scope="col">Setor</th>
        <th scope="col">Perfil</th>
        <th scope="col"></th>
    </ng-template>
    <ng-template appTableBody let-user>
        <th scope="row">{{ user.id }}</th>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.department.name }}</td>
        <td>{{ user.role.name }}</td>
        <td class="text-nowrap">
            <button class="btn btn-primary btn-sm me-1" title="Editar" [routerLink]="['/app/usuarios/editar/', user.id]">
                <i class="pi pi-user-edit"></i>
            </button>
            <button class="btn btn-danger btn-sm" title="Remover">
                <i class="pi pi-trash"></i>
            </button>
        </td>
    </ng-template>
</app-table>
